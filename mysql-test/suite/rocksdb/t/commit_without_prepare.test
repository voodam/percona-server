--source include/have_rocksdb.inc

create table t1 (pk int primary key, a int) engine=rocksdb;
create table t2 (pk int primary key, a int) engine=rocksdb;
insert into t1 values (1, 1), (2, 2);
start transaction;
insert into t2 values (1, 1);

# Bug: triggers commit without prepare error in RocksDB
alter table t1 add column b int;
--sorted_result
select * from t1;

drop table t1;
drop table t2;
